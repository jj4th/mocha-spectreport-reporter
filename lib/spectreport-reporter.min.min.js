var _slicedToArray=function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var e,n=[],i=t[Symbol.iterator]();!(e=i.next()).done&&(n.push(e.value),!s||n.length!==s););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},_createClass=function(){function t(t,s){for(var e in s){var n=s[e];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(t,s)}return function(s,e,n){return e&&t(s.prototype,e),n&&t(s,n),s}}(),_classCallCheck=function(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")};!function(t,s){"object"==typeof exports&&"undefined"!=typeof module?s(require("clsses/test")):"function"==typeof define&&define.amd?define(["clsses/test"],s):s(t.clsses_test)}(this,function(t){"use strict";function s(s,e){function n(){return Array(o).join("  ")}var i=e.reporterOptions||{};c.call(this,s),i.screenshotDir=i.screenshotDir||d.screenshotDir,i.outputDir=i.outputDir||d.outputDir,i.storyDir=i.storyDir||d.storyDir;var r=this,o=0,h=null,p=s.suite.suites[0].file,v=l.splitPath(p,i.storyDir,i.outputDir),m=_slicedToArray(v,2),S=m[0],T=m[1];i.console&&!function(){var t=0;s.on("start",function(){console.log()}),s.on("suite",function(t){++o,console.log(f("suite","%s%s"),n(),t.title)}),s.on("suite end",function(){--o,1===o&&console.log()}),s.on("pending",function(t){var s=n()+f("pending","  - %s");console.log(s,t.title)}),s.on("pass",function(t){if("fast"===t.speed){var s=n()+f("checkmark","  "+c.symbols.ok)+f("pass"," %s ");console.log(s,t.title)}else{var s=n()+f("checkmark","  "+c.symbols.ok)+f("pass"," %s ")+f(t.speed,"(%dms)");console.log(s,t.title,t.duration)}}),s.on("fail",function(s){console.log(n()+f("fail","  %d) %s"),++t,s.title)}),s.on("end",r.epilogue.bind(r))}(),i.screenshot&&s.on("end",function(){l.screenshot(test,i.screenshotDir)}),s.on("suite",function(t){h=new a(t,h),h.start()}),s.on("suite end",function(){h.end(),h.parent&&(h.parent.addSuite(h),h=h.parent)}),s.on("pending",function(s){h.addTest(new t(s,t.TEST_PENDING))}),s.on("pass",function(s){h.addTest(new t(s,t.TEST_PASS))}),s.on("fail",function(s){h.addTest(new t(s,t.TEST_FAIL))}),s.on("end",function(){h.end();var t=T.replace(".js",".json");u.mkdirs(S,function(s){if(s)return console.error(s);var e=u.createWriteStream(T+"/"+t);e.write(JSON.stringify(h,null,2)),e.end()})})}var e=function(){function t(){var s=void 0===arguments[0]?0:arguments[0],e=void 0===arguments[1]?0:arguments[1],n=void 0===arguments[2]?0:arguments[2],i=void 0===arguments[3]?0:arguments[3];_classCallCheck(this,t),this.tests=s,this.pending=e,this.failures=n,this.duration=i,this.timeStart=null,this.timeStop=null}return _createClass(t,{add:{value:function(t){this.tests+=t.tests,this.pending+=t.pending,this.failures+=t.failures}},start:{value:function(){this.timeStart=Date.now()}},stop:{value:function(){this.timeStop=Date.now(),this.duration=Math.round((this.timeStop-this.timeStart)/10)/100}}}),t}(),n=e,i=function h(t,s){var e=this;_classCallCheck(this,h),this.status=s,this.title=t.title,this.fullTitle=t.fullTitle(),this.duration=t.duration,Object.getOwnPropertyNames(t.err).forEach(function(s){e.error[s]=t.err[s]})};i.TEST_PENDING=2,i.TEST_PASS=1,i.TEST_FAIL=0;var r=i,o=function(){function t(s,e){_classCallCheck(this,t),this.suites=[],this.tests=[],this.parent=e,this.stats=new n}return _createClass(t,{addStats:{value:function(t){this.stats.add(t)}},addSuite:{value:function(t){return t.hasTests()?(this.suites.push(t),void this.addStats(t.stats)):!1}},addTest:{value:function(t){this.tests.push(t),t.status===r.TEST_PENDING?this.stats.pending++:t.status===r.TEST_PASS?this.stats.passes++:t.status===r.TEST_FAIL&&this.stats.failures++}},hasTests:{value:function(){return this.tests.length>1}},start:{value:function(){this.stats.start()}},stop:{value:function(){this.stats.stop()}},toJSON:{value:function(){var t=Object.assign({},this);return t.parent=void 0,t}}}),t}(),a=o,u=require("fs-extra"),l=require("util"),c=require("./node_modules/mocha/lib/reporters/base"),f=c.color,d={screenshotDir:"test/screenshot",outputDir:"test/results",storyDir:"test/stories"};exports=module.exports=s});
//# sourceMappingURL=spectreport-reporter.min.min.js.map